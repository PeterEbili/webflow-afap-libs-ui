"use strict";(()=>{var R=["fadeIn","fadeOut","rotate","scale","flipX","flipY","scaleIn","scaleOut","jumpOut","jumpIn","springUp","springDown","springLeft","springRight","spin","grow","centerToOrigin","topLeftConerToOrigin","topRightConerToOrigin","topConerToOrigin","bottomConnerToOrigin","bottomLeftConerToOrigin","bottomRightConerToOrigin"],X=["split","scramble","counter","reveal","typing","scaling","rotating","scalein","scaleout","blur","shadow","worddrop","wordfall"];var S=class{static toFlatFormat(e){let i=e.map(s=>{let{id:n,type:c,event:m,options:t,animType:a,trigger:o,screenpos:l}=s,{delay:r,duration:A,easing:b,from:x,to:g,reversed:y,repeatCount:T,loop:d}=t,u=[`${n}{`,`    type: ${c};`,`    event: ${m};`,`    delay: ${r};`,`    duration: ${A};`,`    easing: ${b};`];y&&u.push(`    reversed: ${y};`),T&&u.push(`    repeatCount: ${T};`),d&&u.push(`    loop: ${d};`),a&&u.push(`    animType: ${a};`),o&&u.push(`    trigger: "${o}";`),l&&u.push(`    screenpos: ${l};`);for(let f in x)u.push(`    from_${f}: ${x[f]};`);for(let f in g)u.push(`    to_${f}: ${g[f]};`);return u.push(`}
`),u.join(`
`)}).join(`
`);return i?`<style af-anims-style>
${i}</style>`:""}static fromFlatFormat(e){let i=e.match(/([a-zA-Z0-9_]+)\s*\{[^}]+\}/g);return i?i.map(s=>{let n=s.match(/^([a-zA-Z0-9_]+)\s*\{/),c=n?n[1]:"",m=s.split(`
`).slice(1,-1).map(a=>a.trim()),t={id:c,type:"custom",event:"view",options:{delay:0,duration:1,easing:"linear",from:{},to:{}},currentPropertyList:[],selectedProperty:{}};for(let a of m){let[o,l]=a.split(":").map(r=>r.trim().replace(/;$/,""));if(o.startsWith("from_")&&t.options.from){let r=o.replace("from_","");t.options.from[r]=isNaN(Number(l))?l:Number(l),t.currentPropertyList?.includes(r)||t.currentPropertyList.push(r),t.selectedProperty[r]=t.selectedProperty[r]||{},t.selectedProperty[r].from=l}else if(o.startsWith("to_")&&t.options.to){let r=o.replace("to_","");t.options.to[r]=isNaN(Number(l))?l:Number(l),t.currentPropertyList?.includes(r)||t.currentPropertyList.push(r),t.selectedProperty[r]=t.selectedProperty[r]||{},t.selectedProperty[r].to=l}else["delay","duration"].includes(o)?t.options[o]=Number(l):["easing"].includes(o)?t.options[o]=l:["type","event","animType","trigger","screenpos"].includes(o)?t[o]=l.replace(/^"|"$/g,""):["loop","reversed"].includes(o)&&(t.options[o]=!!l)}return t.options.delay=t.options.delay||0,t.options.duration=t.options.duration||1,t.options.easing=t.options.easing||"linear",t.options.from&&Object.keys(t.options.from).length===0&&delete t.options.from,t.options.to&&Object.keys(t.options.to).length===0&&delete t.options.to,t}):[]}};var v=class{constructor(e=!0){this.attr="af-anims",this.animAttr="af-anims",this.uiAnimationList=R,this.textAnimationList=X,this.attrType=`${this.attr}-type`,this.attrState=`${this.attr}-state`,this.attrTime=`${this.attr}-time`,this.attrEase=`${this.attr}-ease`,this.styleAttr=`${this.attr}-style`,this.selector={prop:{type:`${this.animAttr}-type`,state:`${this.animAttr}-state`,time:`${this.animAttr}-time`,delay:`${this.animAttr}-delay`,ease:`${this.animAttr}-ease`,loop:`${this.animAttr}-loop`,reversed:`${this.animAttr}-reversed`,repeatCount:`${this.animAttr}-repeatCount`,id:`${this.animAttr}-id`,screenpos:`${this.animAttr}-screenpos`,trigger:`${this.animAttr}-trigger`,options:{translateX:`${this.animAttr}-translateX`,translateY:`${this.animAttr}-translateY`,opacity:`${this.animAttr}-opacity`,color:`${this.animAttr}-color`,inset:`${this.animAttr}-inset`,position:`${this.animAttr}-position`,top:`${this.animAttr}-top`,bottom:`${this.animAttr}-bottom`,left:`${this.animAttr}-left`,right:`${this.animAttr}-right`,backgroundColor:`${this.animAttr}-backgroundColor`,rotate:`${this.animAttr}-rotate`,scale:`${this.animAttr}-scale`,scaleX:`${this.animAttr}-scaleX`,scaleY:`${this.animAttr}-scaleY`,rotateX:`${this.animAttr}-rotateX`,rotateY:`${this.animAttr}-rotateY`,rotateZ:`${this.animAttr}-rotateZ`,width:`${this.animAttr}-width`,height:`${this.animAttr}-height`}}},this.styles=[...document.querySelectorAll(`[${this.styleAttr}]`)],this.elements=[...document.querySelectorAll(`[${this.attr}]`)],this.listener(e)}listener(e=!0){e&&(this.elements.forEach(i=>this.setAnimation(i)),this.styles.forEach(i=>{this.styleSheetRender(i)}),this.observeElementsAndStyles())}styleSheetRender(e,i=!1){if(i&&this.styles.includes(e))return;let s=[],n=[];S.fromFlatFormat(e.innerText).forEach(m=>{let t=m.id;s.includes(t)?(n=n.filter(a=>a.id!==t),n.push(m)):(s.push(t),n.push(m))});for(let m=0;m<n.length;m++){let t=n[m],{type:a,animType:o,event:l,options:r,screenpos:A,trigger:b,id:x}=t,g=a,y=document.querySelectorAll(`[${this.selector.prop.id}="${x}"]`),T=g==="ui"&&o?window.afap.ui[o]:g==="text"?window.afap.textAnimate:window.afap.animate;for(let d=0;d<y.length;d++){let u=y[d];if(this.elements.includes(u))continue;let f={...r,duration:r.duration*1e3,delay:r.delay*1e3,from:r.from||{},to:r.to||{},element:u,trigger:b,screenpos:A,type:o};window.afap.event({target:u,type:l,options:f,animator:g==="scroll"?window.afap.scroll:T,trigger:b})}}}setAnimation(e,i=!1){if(i&&this.elements.includes(e))return;let s=["opacity","scaleX","scaleY","scale","rotate","rotateX","rotateY","rotateZ"],{time:n,type:c,delay:m,state:t,ease:a,loop:o,reversed:l,repeatCount:r,options:A,id:b,screenpos:x,trigger:g}=this.selector.prop,y=e.getAttributeNames(),T=e.getAttribute(this.animAttr),d=y.indexOf(c)>=0?e.getAttribute(c):void 0,u=parseFloat(e.getAttribute(n))*1e3||1e3,f=parseFloat(e.getAttribute(m))*1e3||0,O=e.getAttribute(t)||"view",_=e.getAttribute(a)||"linear",k=(y.indexOf(o)>=0?e.getAttribute(o):"false")==="true",N=(y.indexOf(l)>=0?e.getAttribute(l):"false")==="true",q=parseFloat(e.getAttribute(r)),B=e.getAttribute(x),w=e.getAttribute(g),F=e.getAttribute(b),I={},E={},p={};for(let h in A)if(Object.prototype.hasOwnProperty.call(A,h)){let $=h,H=A[$].toLowerCase();if(y.indexOf(H)>=0){let D=e.getAttribute(H),[L,M]=D.split("|");L&&(s.indexOf($)>=0?I[h]=parseFloat(L):I[h]=L),M&&(s.indexOf($)>=0?E[h]=parseFloat(M):E[h]=M)}}if(p.element=e,p.duration=u,p.delay=f,p.easing=_,p.from=I,p.to=E,d&&(p.type=d),k&&(p.loop=k),N&&(p.reversed=N),q&&(p.repeatCount=q),B&&(p.screenpos=B),w&&(p.trigger=w),F&&(p.id=F),T==="ui"&&d&&window.afap.ui){delete p.from,delete p.to;let h=d,$=window.afap.ui[h];window.afap.event({target:e,type:O,options:p,animator:$,trigger:w})}else if(T==="text"){delete p.from,delete p.to;let h=window.afap.textAnimate;window.afap.event({target:e,type:O,options:p,animator:h,trigger:w})}else if(T==="custom"){let h=window.afap.animate;window.afap.event({target:e,type:O,options:p,animator:h,trigger:w})}else if(T==="scroll"){let h=window.afap.scroll;h(p)}}observeElementsAndStyles(){new MutationObserver(i=>{i.forEach(s=>{s.type==="childList"&&s.addedNodes.forEach(n=>{n instanceof HTMLElement&&n.hasAttribute(this.attr)&&this.setAnimation(n,!0),n instanceof HTMLStyleElement&&n.hasAttribute(this.styleAttr)&&this.styleSheetRender(n,!0),n instanceof HTMLElement&&(n.querySelectorAll(`[${this.attr}]`).forEach(t=>{this.setAnimation(t,!0)}),n.querySelectorAll(`[${this.styleAttr}]`).forEach(t=>{this.styleSheetRender(t,!0)}))})})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0})}};window.AfapAttributes=v;var j=[{name:"Fade In",type:"ui",whatType:"fadeIn",state:"view",boxCount:1},{name:"Fade Out",type:"ui",whatType:"fadeOut",state:"view",boxCount:1},{name:"Flip X side",type:"ui",whatType:"flipX",state:"view",boxCount:1},{name:"Flip Y side",type:"ui",whatType:"flipY",state:"view",boxCount:1},{name:"Scale",type:"ui",whatType:"scale",state:"view",boxCount:1},{name:"Rotate",type:"ui",whatType:"rotate",state:"click",boxCount:1},{name:"ScaleIn",type:"ui",whatType:"scaleIn",state:"view",boxCount:1},{name:"ScaleOut",type:"ui",whatType:"scaleOut",state:"view",boxCount:1},{name:"Jump Out",type:"ui",whatType:"jumpOut",state:"click",boxCount:1},{name:"Jump In",type:"ui",whatType:"jumpIn",state:"click",boxCount:1},{name:"Spring Up",type:"ui",whatType:"springUp",state:"click",boxCount:1},{name:"Spring Down",type:"ui",whatType:"springDown",state:"click",boxCount:1},{name:"Spring Left",type:"ui",whatType:"springLeft",state:"click",boxCount:1},{name:"Spring Right",type:"ui",whatType:"springRight",state:"click",boxCount:1},{name:"Spin",type:"ui",whatType:"spin",state:"click",boxCount:1},{name:"Grow",type:"ui",whatType:"grow",state:"click",boxCount:1},{name:"centerToOrigin",type:"ui",whatType:"centerToOrigin",state:"click",boxCount:1},{name:"topRightConerToOrigin",type:"ui",whatType:"topRightConerToOrigin",state:"click",boxCount:1},{name:"topConerToOrigin",type:"ui",whatType:"topConerToOrigin",state:"click",boxCount:1},{name:"bottomConnerToOrigin",type:"ui",whatType:"bottomConnerToOrigin",state:"click",boxCount:1},{name:"bottomLeftConerToOrigin",type:"ui",whatType:"bottomLeftConerToOrigin",state:"click",boxCount:1},{name:"bottomRightConerToOrigin",type:"ui",whatType:"bottomRightConerToOrigin",state:"click",boxCount:1}],U=[{name:"Split Text",description:"This is an example of our split text.",type:"text",whatType:"split",state:"view"},{name:"Reveal Text",description:"This is an example of our reveal text.",type:"text",whatType:"reveal",state:"view"},{name:"WordDrop Text",description:"This is an example of our <i>word drop</i> text.",type:"text",whatType:"worddrop",state:"view"},{name:"Word Fall Text",description:"This is an example of our <i>wordfall</i> text.",type:"text",whatType:"wordfall",state:"view"},{name:"Shadow",description:"This is an example of our shadow text.",type:"text",whatType:"shadow",state:"view"},{name:"Blur Text",description:"This is an example of our blur text.",type:"text",whatType:"blur",state:"view"},{name:"Counter",description:"50000",type:"text",whatType:"counter",state:"view"},{name:"Rotate In Text",description:"This is an example of our rotate In text.",type:"text",whatType:"rotatein",state:"view"},{name:"Rotate Out Text",description:"This is an example of our rotate out text.",type:"text",whatType:"rotateout",state:"view"},{name:"Scaling Text",description:"This is a scaling text.",type:"text",whatType:"scaling",state:"view"},{name:"Scale IN Text",description:"This is a scale in text.",type:"text",whatType:"scalein",state:"view"},{name:"Scale Out Text",description:"This is a scale out text.",type:"text",whatType:"scaleout",state:"view"},{name:"Typing Text",description:"This is an example of our typing text.",type:"text",whatType:"typing",state:"view"},{name:"Scramble Text",description:"Scramble text example.",type:"text",whatType:"scramble",state:"view"}],Y=[...j,...U];var C=class{constructor(){this.attr="anim-sample",this.animAttr="af-anims",this.selector={card:`[${this.attr}="card"]`,title:`[${this.attr}="title"]`,desc:`[${this.attr}="desc"]`,box:`[${this.attr}="box"]`,text:`[${this.attr}="text"]`,ui:`[${this.attr}="ui"]`,event:`[${this.attr}="event"]`,prop:{type:`${this.animAttr}-type`,state:`${this.animAttr}-state`,time:`${this.animAttr}-time`,ease:`${this.animAttr}-ease`,animate:{x:`${this.animAttr}-x`,y:`${this.animAttr}-y`,opacity:`${this.animAttr}-opacity`,color:`${this.animAttr}-color`,inset:`${this.animAttr}-inset`,position:`${this.animAttr}-pos`,top:`${this.animAttr}-top`,bottom:`${this.animAttr}-bottom`,left:`${this.animAttr}-left`,right:`${this.animAttr}-right`,bg:`${this.animAttr}-bg`,rotate:`${this.animAttr}-rotate`,scale:`${this.animAttr}-scale`,scaleX:`${this.animAttr}-scaleX`,scaleY:`${this.animAttr}-scaleY`,rotateX:`${this.animAttr}-rotateX`,rotateY:`${this.animAttr}-rotateY`,rotateZ:`${this.animAttr}-rotateZ`}}},this.attribute=new v(!1),this.cardTemplate=document.querySelector(this.selector.card),this.cardTemplate.remove(),this.textContainer=document.querySelector(this.selector.text),this.uiContainer=document.querySelector(this.selector.ui),this.eventContainer=document.querySelector(this.selector.event),this.animationMembers=Y,this.render()}render(){for(let e=0;e<this.animationMembers.length;e++){let i=this.animationMembers[e],s=this.cardTemplate.cloneNode(!0),n=s.querySelector(this.selector.title);if(n&&(n.textContent=i.name+" | on"+i.state.toUpperCase()),i.type==="text"){this.textContainer.appendChild(s);let c=s.querySelector(this.selector.desc);c&&i.description&&(c.innerHTML=i.description),i.animate||(c.setAttribute(this.animAttr,i.type),c.setAttribute(this.selector.prop.type,i.whatType??""),i.whatType==="typing"&&c.setAttribute(this.selector.prop.time,"2")),s.querySelector(this.selector.box)?.remove(),this.attribute.setAnimation(c)}else if(i.type==="ui"){this.uiContainer.appendChild(s);let c=s.querySelector(this.selector.desc);c&&c.remove();let m=s.querySelector(this.selector.box);if(i.boxCount)for(let t=0;t<i.boxCount;t++){let a=document.createElement("div");m.appendChild(a),a.classList.add("box"),a.textContent=i.name+" box",a.setAttribute(this.animAttr,i.type),a.setAttribute(this.selector.prop.type,i.whatType??""),a.setAttribute(this.selector.prop.time,"2"),a.setAttribute(this.selector.prop.state,i.state),this.attribute.setAnimation(a)}}}}};document.addEventListener("DOMContentLoaded",()=>{new C});})();
