"use strict";(()=>{var _=["fadeIn","fadeOut","rotate","scale","flipX","flipY","scaleIn","scaleOut","jumpOut","jumpIn","springUp","springDown","springLeft","springRight","spin","grow","centerToOrigin","topLeftConerToOrigin","topRightConerToOrigin","topConerToOrigin","bottomConnerToOrigin","bottomLeftConerToOrigin","bottomRightConerToOrigin"],H=["split","scramble","counter","reveal","typing","scaling","rotating","scalein","scaleout","blur","shadow","worddrop","wordfall"];var O=class{static toFlatFormat(e){let l=e.map(u=>{let{id:r,type:g,event:p,options:t,animType:d,trigger:n,screenpos:o}=u,{delay:i,duration:v,easing:T,from:$,to:A,reversed:m,repeatCount:y,loop:h}=t,a=[`${r}{`,`    type: ${g};`,`    event: ${p};`,`    delay: ${i};`,`    duration: ${v};`,`    easing: ${T};`];m&&a.push(`    reversed: ${m};`),y&&a.push(`    repeatCount: ${y};`),h&&a.push(`    loop: ${h};`),d&&a.push(`    animType: ${d};`),n&&a.push(`    trigger: "${n}";`),o&&a.push(`    screenpos: ${o};`);for(let f in $)a.push(`    from_${f}: ${$[f]};`);for(let f in A)a.push(`    to_${f}: ${A[f]};`);return a.push(`}
`),a.join(`
`)}).join(`
`);return l?`<style af-anims-style>
${l}</style>`:""}static fromFlatFormat(e){let l=e.match(/([a-zA-Z0-9_]+)\s*\{[^}]+\}/g);return l?l.map(u=>{let r=u.match(/^([a-zA-Z0-9_]+)\s*\{/),g=r?r[1]:"",p=u.split(`
`).slice(1,-1).map(d=>d.trim()),t={id:g,type:"custom",event:"view",options:{delay:0,duration:1,easing:"linear",from:{},to:{}},currentPropertyList:[],selectedProperty:{}};for(let d of p){let[n,o]=d.split(":").map(i=>i.trim().replace(/;$/,""));if(n.startsWith("from_")&&t.options.from){let i=n.replace("from_","");t.options.from[i]=isNaN(Number(o))?o:Number(o),t.currentPropertyList?.includes(i)||t.currentPropertyList.push(i),t.selectedProperty[i]=t.selectedProperty[i]||{},t.selectedProperty[i].from=o}else if(n.startsWith("to_")&&t.options.to){let i=n.replace("to_","");t.options.to[i]=isNaN(Number(o))?o:Number(o),t.currentPropertyList?.includes(i)||t.currentPropertyList.push(i),t.selectedProperty[i]=t.selectedProperty[i]||{},t.selectedProperty[i].to=o}else["delay","duration"].includes(n)?t.options[n]=Number(o):["easing"].includes(n)?t.options[n]=o:["type","event","animType","trigger","screenpos"].includes(n)?t[n]=o.replace(/^"|"$/g,""):["loop","reversed"].includes(n)&&(t.options[n]=!!o)}return t.options.delay=t.options.delay||0,t.options.duration=t.options.duration||1,t.options.easing=t.options.easing||"linear",t.options.from&&Object.keys(t.options.from).length===0&&delete t.options.from,t.options.to&&Object.keys(t.options.to).length===0&&delete t.options.to,t}):[]}};var I=class{constructor(e=!0){this.attr="af-anims",this.animAttr="af-anims",this.uiAnimationList=_,this.textAnimationList=H,this.attrType=`${this.attr}-type`,this.attrState=`${this.attr}-state`,this.attrTime=`${this.attr}-time`,this.attrEase=`${this.attr}-ease`,this.styleAttr=`${this.attr}-style`,this.selector={prop:{type:`${this.animAttr}-type`,state:`${this.animAttr}-state`,time:`${this.animAttr}-time`,delay:`${this.animAttr}-delay`,ease:`${this.animAttr}-ease`,loop:`${this.animAttr}-loop`,reversed:`${this.animAttr}-reversed`,repeatCount:`${this.animAttr}-repeatCount`,id:`${this.animAttr}-id`,screenpos:`${this.animAttr}-screenpos`,trigger:`${this.animAttr}-trigger`,options:{translateX:`${this.animAttr}-translateX`,translateY:`${this.animAttr}-translateY`,opacity:`${this.animAttr}-opacity`,color:`${this.animAttr}-color`,inset:`${this.animAttr}-inset`,position:`${this.animAttr}-position`,top:`${this.animAttr}-top`,bottom:`${this.animAttr}-bottom`,left:`${this.animAttr}-left`,right:`${this.animAttr}-right`,backgroundColor:`${this.animAttr}-backgroundColor`,rotate:`${this.animAttr}-rotate`,scale:`${this.animAttr}-scale`,scaleX:`${this.animAttr}-scaleX`,scaleY:`${this.animAttr}-scaleY`,rotateX:`${this.animAttr}-rotateX`,rotateY:`${this.animAttr}-rotateY`,rotateZ:`${this.animAttr}-rotateZ`,width:`${this.animAttr}-width`,height:`${this.animAttr}-height`}}},this.styles=[...document.querySelectorAll(`[${this.styleAttr}]`)],this.elements=[...document.querySelectorAll(`[${this.attr}]`)],this.listener(e)}listener(e=!0){e&&(this.elements.forEach(l=>this.setAnimation(l)),this.styles.forEach(l=>{this.styleSheetRender(l)}),this.observeElementsAndStyles())}styleSheetRender(e,l=!1){if(l&&this.styles.includes(e))return;let u=[],r=[];O.fromFlatFormat(e.innerText).forEach(p=>{let t=p.id;u.includes(t)?(r=r.filter(d=>d.id!==t),r.push(p)):(u.push(t),r.push(p))});for(let p=0;p<r.length;p++){let t=r[p],{type:d,animType:n,event:o,options:i,screenpos:v,trigger:T,id:$}=t,A=d,m=document.querySelectorAll(`[${this.selector.prop.id}="${$}"]`),y=A==="ui"&&n?window.afap.ui[n]:A==="text"?window.afap.textAnimate:window.afap.animate;for(let h=0;h<m.length;h++){let a=m[h];if(this.elements.includes(a))continue;let f={...i,duration:i.duration*1e3,delay:i.delay*1e3,from:i.from||{},to:i.to||{},element:a,trigger:T,screenpos:v,type:n};window.afap.event({target:a,type:o,options:f,animator:A==="scroll"?window.afap.scroll:y,trigger:T})}}}setAnimation(e,l=!1){if(l&&this.elements.includes(e))return;let u=["opacity","scaleX","scaleY","scale","rotate","rotateX","rotateY","rotateZ"],{time:r,type:g,delay:p,state:t,ease:d,loop:n,reversed:o,repeatCount:i,options:v,id:T,screenpos:$,trigger:A}=this.selector.prop,m=e.getAttributeNames(),y=e.getAttribute(this.animAttr),h=m.indexOf(g)>=0?e.getAttribute(g):void 0,a=parseFloat(e.getAttribute(r))*1e3||1e3,f=parseFloat(e.getAttribute(p))*1e3||0,E=e.getAttribute(t)||"view",X=e.getAttribute(d)||"linear",N=(m.indexOf(n)>=0?e.getAttribute(n):"false")==="true",M=(m.indexOf(o)>=0?e.getAttribute(o):"false")==="true",k=parseFloat(e.getAttribute(i)),B=e.getAttribute($),b=e.getAttribute(A),F=e.getAttribute(T),x={},C={},s={};for(let c in v)if(Object.prototype.hasOwnProperty.call(v,c)){let S=c,q=v[S].toLowerCase();if(m.indexOf(q)>=0){let Y=e.getAttribute(q),[L,P]=Y.split("|");L&&(u.indexOf(S)>=0?x[c]=parseFloat(L):x[c]=L),P&&(u.indexOf(S)>=0?C[c]=parseFloat(P):C[c]=P)}}if(s.element=e,s.duration=a,s.delay=f,s.easing=X,s.from=x,s.to=C,h&&(s.type=h),N&&(s.loop=N),M&&(s.reversed=M),k&&(s.repeatCount=k),B&&(s.screenpos=B),b&&(s.trigger=b),F&&(s.id=F),y==="ui"&&h&&window.afap.ui){delete s.from,delete s.to;let c=h,S=window.afap.ui[c];window.afap.event({target:e,type:E,options:s,animator:S,trigger:b})}else if(y==="text"){delete s.from,delete s.to;let c=window.afap.textAnimate;window.afap.event({target:e,type:E,options:s,animator:c,trigger:b})}else if(y==="custom"){let c=window.afap.animate;window.afap.event({target:e,type:E,options:s,animator:c,trigger:b})}else if(y==="scroll"){let c=window.afap.scroll;c(s)}}observeElementsAndStyles(){new MutationObserver(l=>{l.forEach(u=>{u.type==="childList"&&u.addedNodes.forEach(r=>{r instanceof HTMLElement&&r.hasAttribute(this.attr)&&this.setAnimation(r,!0),r instanceof HTMLStyleElement&&r.hasAttribute(this.styleAttr)&&this.styleSheetRender(r,!0),r instanceof HTMLElement&&(r.querySelectorAll(`[${this.attr}]`).forEach(t=>{this.setAnimation(t,!0)}),r.querySelectorAll(`[${this.styleAttr}]`).forEach(t=>{this.styleSheetRender(t,!0)}))})})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0})}};function U(w=!0){return new I(w)}window.AfapAttributes=I;})();
